/* calculators/smart-budget/smart-budget.css
   Smart Budgetâ€“specific rules only.
*/

/* ---------------------------------------
   Table: column mode (Average default vs Target)
---------------------------------------- */

/* Give Category more breathing room */
#budget-table th:first-child,
#budget-table td.name-cell {
  width: 65%;
}

/* Prefer normal word wrapping over mid-word breaks */
#budget-table td.name-cell {
  word-break: normal;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* Hide Target columns by default (mobile-first) */
#budget-table th[data-role^="target-"],
#budget-table td[data-role^="target-"] {
  display: none !important;
}

/* When toggled, show Target columns and hide Avg columns */
#budget-table.show-target th[data-role^="avg-"],
#budget-table.show-target td[data-role^="avg-"] {
  display: none !important;
}

#budget-table.show-target th[data-role^="target-"],
#budget-table.show-target td[data-role^="target-"] {
  display: table-cell !important;
}

/* base.css can force wide tables; allow this one to shrink on mobile */
#smart-budget table {
  min-width: 0 !important;
}

/* ---------------------------------------
   Toggle row: inherit site typography
---------------------------------------- */

.mode-toggle-row,
.mode-toggle,
.mode-toggle-label,
.mode-toggle-help {
  font: inherit;
  color: inherit;
}

.mode-toggle-row {
  margin-top: 0.75rem;
  display: grid;
  gap: 0.25rem;
}

.mode-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.mode-toggle-label {
  font-weight: 600;
}

.mode-toggle-help {
  margin: 0;
  opacity: 0.8;
  line-height: 1.35;
  max-width: 65ch;
}

.mode-toggle-input {
  inline-size: 1.15rem;
  block-size: 1.15rem;
}

/* ---------------------------------------
   Desktop: show BOTH Avg + Target; hide toggle
---------------------------------------- */

@media (min-width: 768px) {
  .mode-toggle-row {
    display: none !important;
  }

  #budget-table th[data-role^="avg-"],
  #budget-table td[data-role^="avg-"],
  #budget-table th[data-role^="target-"],
  #budget-table td[data-role^="target-"] {
    display: table-cell !important;
  }

  #budget-table {
    table-layout: auto;
  }
}

/* ---------------------------------------
   Accessibility helpers (safety)
---------------------------------------- */

.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* ---------------------------------------
   Mobile readability for the 3-col table
---------------------------------------- */

#budget-table {
  width: 100%;
  table-layout: fixed;
}

/* Column sizing */
#budget-table .col-category { width: 56%; }
#budget-table .col-pct { width: 18%; }
#budget-table .col-amt { width: 26%; }

/* Category wraps; numbers do not */
#budget-table td.name-cell {
  white-space: normal;
  overflow-wrap: anywhere;
  hyphens: auto;
}

#budget-table th,
#budget-table td {
  overflow: hidden;
  text-overflow: ellipsis;
}

#budget-table th[data-role$="-pct-h"],
#budget-table th[data-role$="-amt-h"],
#budget-table td[data-role$="-pct"],
#budget-table td[data-role$="-amt"] {
  text-align: right;
  white-space: nowrap;
}

/* Prevent ellipsis on headers */
#budget-table th {
  text-overflow: clip;
}

/* Header label swap (short labels on narrow screens) */
#budget-table .th-short { display: none; }

@media (max-width: 420px) {
  #budget-table th,
  #budget-table td {
    padding: 0.45rem 0.4rem;
    font-size: 0.86rem;
  }

  #budget-table .th-long { display: none; }
  #budget-table .th-short { display: inline; }
}

/* ---------------------------------------
   Budget profile row (spacing + premium select)
---------------------------------------- */

.income-label-row {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  margin-bottom: 0.35rem; /* ðŸ‘ˆ creates breathing room above the input */
}

.profile-row {
  margin-top: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.profile-row label {
  font-weight: 600;
}

/* Premium select: ID-based so it styles both calculator page + home embed reliably */
#profile-select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;

  display: inline-block;
  max-width: 100%;

  padding: 0.55rem 2.4rem 0.55rem 0.85rem;
  min-height: 2.5rem;
  line-height: 1.2;

  border-radius: 999px;
  border: 1px solid var(--border, rgba(0,0,0,0.2));
  background-color: #fff;
  color: inherit;
  font: inherit;

  background-image:
    linear-gradient(45deg, transparent 50%, rgba(0,0,0,0.55) 50%),
    linear-gradient(135deg, rgba(0,0,0,0.55) 50%, transparent 50%);
  background-position:
    calc(100% - 1.1rem) 52%,
    calc(100% - 0.8rem) 52%;
  background-size: 7px 7px, 7px 7px;
  background-repeat: no-repeat;

  cursor: pointer;
}

@media (hover: hover) {
  #profile-select:hover {
    border-color: var(--accent, rgba(0,0,0,0.35));
  }
}

#profile-select:focus {
  outline: none;
  border-color: var(--accent, rgba(0,0,0,0.35));
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.18);
}

/* Desktop polish */
@media (min-width: 640px) {
  .profile-row {
    max-width: 26rem;
  }
}
