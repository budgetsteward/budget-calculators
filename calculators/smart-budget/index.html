<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="description"
    content="Smart Budget Percentages calculator – compare typical spending to a budget-conscious target plan."
  />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Budget Percentages – My Super Calculators</title>

  <!-- Shared site styles -->
  <link rel="stylesheet" href="../../css/base.css" />

  <!-- Calculator-specific styles -->
  <link id="smart-budget-css" rel="stylesheet" href="smart-budget.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <header>
    <nav class="nav" aria-label="Primary">
      <a href="../../index.html" class="nav-brand">My Super Calculators</a>
      <div class="nav-links">
        <a href="../../index.html">Home</a>
        <a href="../../calculators.html" aria-current="page">Calculators</a>
        <a href="../../stories.html">Stories</a>
      </div>
    </nav>
  </header>

  <main id="main">
    <section id="smart-budget" class="card">
      <h1>Smart Budget Percentages</h1>

      <p class="subtitle">
        Enter your monthly take-home income to see how a typical American household
        might allocate their money versus a <strong>budget-conscious target plan</strong>. 
        Click the info-btn wherever shown for more details and to discover more ways to save and earn money and cut costs.
      </p>

      <!-- Income form -->
      <form id="income-form" novalidate>
        <label for="income" class="income-label-row">
          <span>Monthly take-home income</span>
          <button
            type="button"
            class="info-btn income-info-btn"
            id="income-info-btn"
            aria-label="Show information about monthly take-home income"
            aria-controls="category-details"
            aria-expanded="false"
          >
            i
          </button>
        </label>


        <div class="income-row">
          <div class="income-input-wrapper">
            <span>$</span>
            <input
              type="number"
              id="income"
              inputmode="decimal"
              placeholder="e.g., 4500"
              min="0"
              step="50"
              required
            />
          </div>

          <button type="submit" class="btn-primary">Calculate</button>
          <button type="button" id="reset-button" class="btn-secondary">Clear</button>
        </div>

        <div id="error-message" class="error" aria-live="polite"></div>
      </form>

      <div class="profile-row">
        <label for="profile-select" class="profile-label-row">
          <span>Budget profile</span>
          <button
            type="button"
            class="info-btn"
            id="profile-info-btn"
            aria-label="Show information about budget profile"
            aria-controls="category-details"
            aria-expanded="false"
          >
            i
          </button>
        </label>

        <select id="profile-select" name="profile" aria-describedby="profile-help profile-status"></select>
        
        <div id="profile-status" class="sr-only" aria-live="polite"></div>
      </div>

      <!-- Toggle -->
      <div class="mode-toggle-row">
        <label class="mode-toggle">
          <input type="checkbox" id="mode-toggle" />
          <span>Show target plan</span>
        </label>
        <p class="muted">
          When enabled, the table shows target percentages and target dollar amounts
          instead of average values.
        </p>
        <div id="mode-status" class="sr-only" aria-live="polite"></div>
      </div>

      <!-- Table -->
      <div class="table-scroll-wrapper">
        <table id="budget-table">
          <thead>
            <tr>
              <th>Category</th>
              <th data-role="avg-pct-h">Avg %</th>
              <th data-role="avg-amt-h">Avg $</th>
              <th data-role="target-pct-h">
                <span class="th-long">Target %</span>
                <span class="th-short" aria-hidden="true">Tgt %</span>
              </th>

              <th data-role="target-amt-h">
                <span class="th-long">Target $</span>
                <span class="th-short" aria-hidden="true">Tgt $</span>
              </th>
            </tr>
          </thead>

          <tbody id="results-body"></tbody>

          <tfoot>
            <tr>
              <td>Total</td>
              <td data-role="avg-pct-total">100%</td>
              <td id="total-avg-amt" data-role="avg-amt-total">—</td>
              <td data-role="target-pct-total">100%</td>
              <td id="total-target-amt" data-role="target-amt-total">—</td>
            </tr>
          </tfoot>
        </table>
      </div>

      <p class="muted" id="category-details">
        Tip: If your actual spending in a category is higher than the target,
        make small adjustments over 1–3 months rather than trying to fix everything at once.
      </p>
    </section>
  </main>

  <footer>
    <p>
      These recommended percentages are based on U.S. Bureau of Labor Statistics data
      and common budgeting guidelines. Adjust as needed for your situation.
    </p>
  </footer>

  <!-- Scripts -->
  <script src="../../js/utils.js"></script>
  <script src="smart-budget.js"></script>
  <script src="smart-budget-init.js"></script>
</body>
</html>
